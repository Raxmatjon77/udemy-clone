# stages:
#   - build
#   - deploy

# build:
#   stage: build
#   # tags:
#   #   - docker  # <- must match the tag you used during registration
#   script:
#     - echo "âš™ï¸ Docker version check:"
#     - docker --version

#     - echo "ğŸ” Logging into GitLab Container Registry..."
#     - echo "$CI_REGISTRY_PASSWORD" | docker login -u "$CI_REGISTRY_USER" --password-stdin "$CI_REGISTRY"

#     - echo "ğŸ“¦ Building Docker image..."
#     - docker build -t $CI_REGISTRY_IMAGE/app:latest .

#     - echo "ğŸ“¤ Pushing image..."
#     - docker push $CI_REGISTRY_IMAGE/app:latest
#   only:
#     - main

# deploy:
#   stage: deploy
#   # tags:
#   #   - docker
#   script:
#     - echo "ğŸš€ Deploying to Docker Swarm..."
#     - docker stack deploy -c docker-compose.yml udemy
#   only:
#     - main

test:
  stage: build
  tags:
    - docker
  script:
    - echo "âœ… Shell executor works"
    - whoami
    - pwd

